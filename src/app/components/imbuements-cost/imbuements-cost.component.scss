@import '../../../../../../shared-styles/variables';

.main-card {
	background: $bg-tibia-gold;
	border: 2px solid $tibia-gold;
	border-radius: 12px;
	padding: 0;
	overflow: hidden;
	max-width: 600px;
	margin: 0 auto;
}

.config-section {
	background: $bg-tibia-gold;
	padding: 20px;
	border-bottom: 2px solid $tibia-gold;

	h3 {
		color: $tibia-brown-dark;
		font-size: 11px;
		font-weight: 600;
		letter-spacing: 0.5px;
		margin: 0 0 15px 0;
		text-transform: uppercase;
	}

	.config-form {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 15px;

		.form-group {
			label {
				display: block;
				color: $tibia-brown-dark;
				font-weight: 500;
				margin-bottom: 8px;
			}

			input,
			select {
				width: 100%;
				padding: 10px 12px;
				background: #fff;
				border: 2px solid $tibia-gold;
				border-radius: 6px;
				color: $tibia-brown-dark;
				font-size: 14px;

				&:focus {
					outline: none;
					border-color: $tibia-green;
					box-shadow: 0 0 0 2px rgba($tibia-green, 0.1);
				}

				&::placeholder {
					color: $tibia-gray;
				}
			}
		}
	}
}

.tabs {
	display: flex;
	background: $tibia-green;
	border-bottom: 2px solid $tibia-gold;

	button {
		flex: 1;
		padding: 12px 16px;
		background: transparent;
		border: none;
		border-bottom: 3px solid transparent;
		color: $tibia-gold-light;
		font-weight: 500;
		font-size: 13px;
		cursor: pointer;
		transition: all 0.2s;

		&:hover:not(.active) {
			color: $tibia-white;
			background: rgba($tibia-gold-light, 0.1);
		}

		&.active {
			color: $tibia-brown-dark;
			background: $tibia-gold;
			border-bottom-color: $tibia-brown-dark;
		}
	}
}

.materials-section {
	padding: 20px;
	background: $tibia-green-light;

	form {
		display: flex;
		flex-direction: column;
		gap: 12px;
	}

	.material-row {
		position: relative;
		display: grid;
		grid-template-columns: 50px 1fr auto;
		gap: 12px;
		align-items: center;
		padding: 12px;
		background: rgba($tibia-gold-light, 0.3);
		border: 2px solid $tibia-gold;
		border-radius: 8px;
		transition: all 0.2s;

		&:hover:not(.disabled) {
			background: rgba($tibia-gold, 0.2);
			border-color: $tibia-green;
		}

		&.disabled {
			opacity: 0.4;
			pointer-events: none;
		}

		.tier-badge {
			position: absolute;
			top: -8px;
			left: 8px;
			background: $tibia-green;
			color: $tibia-gold-light;
			font-size: 10px;
			font-weight: bold;
			padding: 3px 8px;
			border-radius: 10px;
		}

		.material-icon {
			width: 40px;
			height: 40px;
			object-fit: contain;
			background: $tibia-green-light;
			border-radius: 6px;
			padding: 4px;
			border: 1px solid $tibia-gold;
		}

		.material-input {
			flex: 1;

			label {
				display: block;
				color: $tibia-brown-dark;
				font-size: 12px;
				font-weight: 500;
				margin-bottom: 6px;
			}

			input {
				width: 100%;
				padding: 8px 12px;
				background: #fff;
				border: 2px solid $tibia-gold;
				border-radius: 6px;
				color: $tibia-brown-dark;
				font-size: 14px;

				&:focus {
					outline: none;
					border-color: $tibia-green;
					box-shadow: 0 0 0 2px rgba($tibia-green, 0.1);
				}

				&::placeholder {
					color: $tibia-gray;
				}
			}
		}

		.buy-indicators {
			display: flex;
			gap: 8px;

			.buy-icon {
				width: 40px;
				height: 40px;
				display: flex;
				align-items: center;
				justify-content: center;
				border-radius: 8px;
				background: rgba($tibia-gold-light, 0.5);
				opacity: 0.3;
				transition: all 0.2s;
				cursor: default;
				border: 2px solid transparent;

				img {
					width: 24px;
					height: 24px;
					object-fit: contain;
				}

				&.active {
					opacity: 1;
					transform: scale(1.05);

					&.market {
						background: $tibia-green;
						box-shadow: 0 0 15px rgba($tibia-green, 0.5);
						border-color: $tibia-gold;
					}

					&.token {
						background: $tibia-gold;
						box-shadow: 0 0 15px rgba($tibia-gold, 0.5);
						border-color: $tibia-green;
					}
				}
			}
		}
	}

	.npc-command {
		margin-top: 15px;
		padding: 12px;
		background: rgba($tibia-green, 0.1);
		border: 2px solid $tibia-green;
		border-radius: 8px;
		display: flex;
		align-items: center;
		gap: 10px;

		code {
			flex: 1;
			font-family: 'Courier New', monospace;
			color: $tibia-green;
			font-size: 12px;
			font-weight: 500;
		}

		.copy-btn {
			background: $tibia-green;
			color: $tibia-gold-light;
			border: none;
			padding: 6px 10px;
			border-radius: 6px;
			cursor: pointer;
			transition: all 0.2s;
			display: flex;
			align-items: center;
			justify-content: center;

			mat-icon {
				font-size: 18px;
				width: 18px;
				height: 18px;
				color: $tibia-gold-light;
			}

			&:hover {
				background: $tibia-brown-dark;
				transform: scale(1.05);
			}
		}
	}
}

.total-cost {
	padding: 20px;
	border-top: 2px solid $tibia-gold;
	background: rgba($tibia-gold, 0.1);

	h4 {
		color: $tibia-brown-dark;
		font-size: 12px;
		font-weight: 500;
		margin: 0 0 10px 0;
		text-transform: uppercase;
	}

	.cost-value {
		color: $tibia-green;
		font-size: 24px;
		font-weight: bold;
		display: flex;
		align-items: center;
		gap: 8px;

		.gold-icon {
			width: 28px;
			height: 28px;
			object-fit: contain;
		}
	}

	.savings {
		margin-top: 10px;
		color: $tibia-green;
		font-size: 14px;
		font-weight: 600;
		padding: 8px 12px;
		background: rgba($tibia-green, 0.1);
		border-radius: 6px;
		border-left: 3px solid $tibia-green;
	}
}
